<html>
  <body>
    <div id="sdk-status">
      Loading AZTEC SDK...
    </div>
    <div id="app" style="margin: 32px 0;"></div>
    <script type="module" src="http://localhost:5555/sdk/aztec.js"></script>
    <script>
      async function initAztecSdk() {
        await window.aztec.enable();

        const account = window.aztec.Web3Service.account;
        const statusElem = document.getElementById('sdk-status');
        statusElem.innerHTML = `
          <div>
            AZTEC SDK loaded and enabled!<br/>
            User address: <strong>${account.address}</strong>
          </div>
        `;

        const createAssetScript = document.createElement('script');
        createAssetScript.src = './create-asset.js';
        document.body.appendChild(createAssetScript);
      };

      if (window.aztec) {
        initAztecSdk();
      } else {
        window.aztecCallback = initAztecSdk;
      }
    </script>
  </body>
</html>
