specVersion: 0.0.1
description: Aztec Note Management
repository: https://github.com/AztecProtocol/AZTEC
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: ACE
    network: development
    source:
      address: '0x1fbf074bb79DDC1793C3BB4f9942229F30AB6FF3'
      abi: ACE
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/ACE.ts
      entities:
        - Asset
      abis:
        - name: ACE
          file: ./build/abis/ACE.json
      eventHandlers:
        - event: CreateNoteRegistry(address,address,uint256,address,bool,bool)
          handler: createNoteRegistry
    templates:
      - name: ZkAsset
        kind: ethereum/contract
        network: development
        source:
          abi: ZkAssetTemplate
        mapping:
          kind: ethereum/events
          apiVersion: 0.0.2
          language: wasm/assemblyscript
          file: ./mappings/ZkAsset.ts
          entities:
            - Account
              Note
              NoteAccess
              NoteLog
              UtilityNote
              UtilityNoteAccess
          abis:
            - name: ZkAssetTemplate
              file: ./build/abis/ZkAsset.json
          eventHandlers:
            - event: CreateNote(address,bytes32,bytes)
              handler: createNote
            - event: DestroyNote(address,bytes32,bytes)
              handler: destroyNote
            - event: UpdateNoteMetaData(address,bytes32,bytes)
              handler: updateNoteMetaData
            - event: UpdateTotalMinted(bytes32,bytes)
              handler: updateTotalMinted
            - event: UpdateTotalBurned(bytes32,bytes)
              handler: updateTotalBurned
  - kind: ethereum/contract
    name: AZTECAccountRegistry
    network: development
    source:
      address: '0xF616b73dddF7dEaB2630EB49A163D2192629c980'
      abi: AZTECAccountRegistry
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.2
      language: wasm/assemblyscript
      file: ./mappings/AccountRegistry.ts
      entities:
        - Account
      abis:
        - name: AZTECAccountRegistry
          file: ./build/abis/AZTECAccountRegistry.json
      eventHandlers:
        - event: RegisterExtension(address,bytes)
          handler: registerExtension
