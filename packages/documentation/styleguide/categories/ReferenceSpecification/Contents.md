# AZTEC Protocol 1.0.0 specification  

## Table of contents  
- [Architecture](#architecture)
  - [The AZTEC Cryptography Engine](#the-aztec-cryptography-engine)
  - [AZTEC notes and ABI encoding](#abi-encoding-and-aztec-data-types)
- [The Note Registry](#the-note-registry)
- [ACE, the AZTEC Cryptography Engine](#ace-the-aztec-cryptography-engine)
  - [Validating AZTEC proofs - defining the proof's identifier](#validating-aztec-proofs---defining-the-proofs-identifier)
  - [Enacting confidential transfer instructions - defining the ABI encoding of proofOutputs](#enacting-confidential-transfer-instructions---defining-the-abi-encoding-of-proofoutputs)
  - [ABI encoding for `bytes proofOutputs`](#abi-encoding-for-bytes-proofoutputs)
  - [ABI encoding for `bytes proofOutput = proofOutputs[i]`](#abi-encoding-for-bytes-proofoutput--proofoutputsi)
  - [Cataloguing valid proofs inside ACE](#cataloguing-valid-proofs-inside-ace)
  - [ACE owner](#ace-owner)
- [The key responsibilities of `ACE`](#the-key-responsibilities-of-ace)
  - [Separating proof validation and note registry interactions](#separating-proof-validation-and-note-registry-interactions)
- [Contract Interactions](#contract-interactions)
  - [Zero-knowledge dApp contract interaction, an example flow with bilateral swaps](#zero-knowledge-dapp-contract-interaction-an-example-flow-with-Swaps)
  - [The rationale behind multilateral confidential transactions](#the-rationale-behind-multilateral-confidential-transactions)
- [Validating an AZTEC proof](#validating-an-aztec-proof)
- [Note registry implementation](#note-registry-implementation)
  - [Creating a note registry](#creating-a-note-registry)
  - [Note Registry Variables](#note-registry-variables)
  - [Implementation and upgradeability](#implementation-and-upgradeability)
  - [How an upgrade works](#how-an-upgrade-works)
  - [Current note registry versions](#current-note-registry-versions)
- [Processing a transfer instruction](#processing-a-transfer-instruction)
  - [A note on ERC20 token transfers](#a-note-on-erc20-token-transfers)
- [Minting AZTEC notes](#minting-aztec-notes)
  - [Minting and tokens](#minting-and-tokens)
- [Burning AZTEC notes](#burning-aztec-notes)
- [Interacting with ACE: zkAsset](#interacting-with-ace-zkasset)
  - [Creating a confidential asset](#creating-a-confidential-asset)
  - [Issuing a confidential transaction: confidentialTransfer](#issuing-a-confidential-transaction-confidentialtransfer)
  - [Issuing delegated confidential transactions: confidentialTransferFrom](#issuing-delegated-confidential-transactions-confidentialtransferfrom)
  - [Permissioning](#permissioning)
  - [Types of ZkAasset](#types-of-zkasset)
- [Account Registry](#account-registry)
  - [Feature enabling role](#feature-enabling-role)
  - [Architecture and flow](#architecture-and-flow)
  - [Potential issues to be aware of](#potential-issues-to-be-aware-of)
  - [Upgradeability pattern](#upgradeability-pattern)
- [Proof verification contracts](#proof-verification-contracts)
  - [JoinSplit.sol](#aztec-verifiers-joinsplitsol)
  - [Swap.sol](#aztec-verifiers-bilateralswapsol)
  - [Dividend.sol](#aztec-verifiers-dividendcomputationsol)
  - [PublicRange.sol](#aztec-verifiers-publicrangesol)
  - [PrivateRange.sol](#aztec-verifiers-privaterangesol)
  - [JoinSplitFluid.sol](#join-split-fluid)
- [Specification of Utility libraries](#specification-of-utility-libraries)
- [Appendix](#appendix)
  - [A: Preventing collisions and front-running](#a-preventing-collisions-and-front-running)
  - [B - Interest streaming via AZTEC notes](#b---interest-streaming-via-aztec-notes)
- [Glossary](#glossary)


